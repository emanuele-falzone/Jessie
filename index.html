<html>
	<head>

		<title>Jessy</title>

	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
 		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

	    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
		<script src="ejs.min.js"></script>

	    <script type="text/javascript">
	    	function execute() {
	    		var template = document.getElementById("template").value,
	    			input = document.getElementById("input").value,
	    			jsonObj = {},
	    			html = "";

	    		try {
	    			jsonObj = JSON.parse(input);
	    			html = ejs.render(template, jsonObj);
	    			document.getElementById("output").innerHTML = "<pre>" + html + "<pre>";
	    			M.toast({html: "Success!", classes: "green"});
				}
				catch(err) {
					M.toast({html: err.message, classes: "orange"});
				}
	    	}
	    </script>
	</head>
	<body>
		<div class="container">
			<div class="row">
				<div class="col s6">
					<div class="row">
				        <div class="input-field col s12">
				          	<textarea id="template" class="materialize-textarea"></textarea>
				          	<label for="template">EJS Template</label>
				        </div>
			        </div>
					<div class="row">
				        <div class="input-field col s12">
				          	<textarea id="input" class="materialize-textarea"></textarea>
				          	<label for="input">JSON Input</label>
				        </div>
			        </div>
					<div class="row">
						<button class="btn waves-effect waves-light" type="submit" name="action" onclick="execute()">
							Run<i class="material-icons right">send</i>
	  					</button>
					</div>
				</div>
				<div class="col s6">
					<div id="output">
					</div>
				</div>
			</div>
		</div>
	</body>
</html>